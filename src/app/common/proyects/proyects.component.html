<form class="form-horizontal " (ngSubmit)="f.form.valid" #f="ngForm">
    <div class="row mt-20">
        <div class="col-lg-12">
            <button role="button" aria-pressed="false" class="btn btn-default"
                (click)="normalTree = !normalTree">{{'form.change-tree' |
                translate}}</button>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <!-- categorias tree -->
                <div class="col-12" *ngIf="normalTree">
                    <label for="type" class="col-sm-4 control-label">{{ "scientist.area" | translate }}</label>
                    <app-new-tree [treeType]="'area'"></app-new-tree>
                </div>
                <!-- categorias tree -->
                <div class="col-12" *ngIf="!normalTree">
                    <label for="type" class="col-sm-4 control-label">{{ "scientist.area" | translate }}</label>
                    <app-tree [treeType]="'area'"></app-tree>
                </div>
                <!-- dates -->
            </div>
            <div class="col-lg-6">
                <div class="row">
                    <div class="form-group col-lg-6">
                        <label for="dateFromProyect{{idPrefix}}" class="control-label">{{'projects.date-ini-from' |
                            translate
                            }}</label>
                        <input class="form-control" name="dateFromProyect" id="dateFromProyect{{idPrefix}}" required
                            (ngModelChange)="filterProjects()"
                            placeholder="{{'form.datepicker-placeholder' | translate}}" ngbDatepicker [readonly]="true"
                            #decisionDate="ngbDatepicker" (click)="decisionDate.toggle();"
                            (keyup)="decisionDate.close()" #dateFrom="ngModel" [(ngModel)]="dateIni" />
                    </div>
                    <div class="form-group col-lg-6">
                        <label for="dateToProyect{{idPrefix}}" class="control-label">{{'projects.date-ini-to' |
                            translate }}</label>
                        <input class="form-control" name="dateToProyect" id="dateToProyect{{idPrefix}}" required
                            (ngModelChange)="filterProjects()"
                            placeholder="{{'form.datepicker-placeholder' | translate}}" ngbDatepicker [readonly]="true"
                            #decisionTo="ngbDatepicker" (click)="decisionTo.toggle();" (keyup)="decisionTo.close()"
                            #dateTo="ngModel" [(ngModel)]="dateFin" />
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-lg-6">
                        <label for="dateFromProyectend{{idPrefix}}" class="control-label">{{'projects.date-end-from' |
                            translate
                            }}</label>
                        <input class="form-control" name="dateFromProyect" id="dateFromProyectend{{idPrefix}}" required
                            (ngModelChange)="filterProjects()"
                            placeholder="{{'form.datepicker-placeholder' | translate}}" ngbDatepicker [readonly]="true"
                            #decisionDate="ngbDatepicker" (click)="decisionDate.toggle();"
                            (keyup)="decisionDate.close()" #dateFrom="ngModel" [(ngModel)]="dateIni" />
                    </div>
                    <div class="form-group col-lg-6">
                        <label for="dateToProyectend{{idPrefix}}" class="control-label">{{'projects.date-end-to' |
                            translate }}</label>
                        <input class="form-control" name="dateToProyect" id="dateToProyectend{{idPrefix}}" required
                            (ngModelChange)="filterProjects()"
                            placeholder="{{'form.datepicker-placeholder' | translate}}" ngbDatepicker [readonly]="true"
                            #decisionTo="ngbDatepicker" (click)="decisionTo.toggle();" (keyup)="decisionTo.close()"
                            #dateTo="ngModel" [(ngModel)]="dateFin" />
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-lg-6">
                        <label for="competitive{{idPrefix}}" class="control-label">{{'projects.competitive' | translate
                            }}</label>
                        <select (change)="filterProjects()" id="competitive{{idPrefix}}" name="competitive"
                            class="form-control" [(ngModel)]="findRequest.filter.competitive" #competitive="ngModel">
                            <option [value]="undefined">{{ "form.select" | translate }}</option>
                            <option value="Competitivo">Competitivo</option>
                            <option value="No Competitivo">No Competitivo</option>
                        </select>
                    </div>
                    <div class="form-group col-lg-6">
                        <label for="level{{idPrefix}}" class="control-label">{{'projects.level' | translate }}</label>
                        <select (change)="filterProjects()" id="level{{idPrefix}}" name="level" class="form-control"
                            [(ngModel)]="findRequest.filter.level" #level="ngModel">
                            <option [value]="undefined">{{ "form.select" | translate }}</option>
                            <option value="Europeo">Europeo</option>
                            <option value="Interno">Interno</option>
                            <option value="Nacional">Nacional</option>
                            <option value="Internacional">Internacional</option>
                            <option value="Regional">Regional</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="container-fluid">
        <div class="row justify-content-end">
            <div class="input-group col-md-1">
                <button [attr.aria-label]="'form.clean' | translate " role="button" aria-pressed="false"
                    class="btn btn-secondary"
                    (click)="f.resetForm(); filterProjects(); dateIni = undefined; dateFin = undefined">{{'form.clean' |
                    translate }}</button>
            </div>
            <div class="input-group col-md-4" role="search">
                <input class="form-control py-2 border-right-0 border" type="search" name="search" #search="ngModel"
                    placeholder="{{'form.search-by-name' | translate }}" [(ngModel)]="findRequest.filter.name">
                <span class="input-group-append">
                    <button [attr.aria-label]="'form.search-by-name'" role="button" aria-pressed="false"
                        (click)="filterProjects()" class="btn btn-outline-secondary border-left-0 border" type="button">
                        <em class="oi oi-magnifying-glass "></em>
                    </button>
                </span>
            </div>
        </div>
    </div>
</form>
<app-table-results-dto [dtoTypeTranslate]="'projects'" [routerNameLink]="'./project/'" *ngIf="loadedProjects"
    [routerField]="'id'" [data]="allProjectFiltered.content" [pageInfo]="allProjectFiltered"
    (pageChanged)="allprojectsFilteredPageChanged($event)" (sizeChanged)="allprojectsFilteredSizeChanged($event)"
    (sortChanged)="allprojectsFilteredSortChanged($event)">
</app-table-results-dto>
<div style="min-width: 600px; width:100%; height:450px" echarts [loading]="loadingData" [options]="echartOptions"
    class="demo-chart"></div>